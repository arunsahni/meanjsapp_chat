<div data-ng-controller="HeaderController" data-ng-init="prepareMenu()" ng-show="authentication.user">
    <div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-header">
		<button class="navbar-toggle" type="button" data-ng-click="toggleCollapsibleMenu()">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
		<a href="/#!/companyfeeds/create" class="navbar-brand">
			<img ng-src="../imgs/SumaLogo.png"/>
		</a>
		<!--<a href="/#!/userlist" class="navbar-brand" ng-show="showUser">UserList</a>-->
	</div>
		<nav class="collapse navbar-collapse" collapse="!isCollapsed" role="navigation">
			<ul class="nav navbar-nav" data-ng-if="menu.shouldRender(authentication.user);">
				<li data-ng-repeat="item in menu.items | orderBy: 'position'" data-ng-if="item.shouldRender(authentication.user);" ng-switch="item.menuItemType" ui-route="{{item.uiRoute}}" class="{{item.menuItemClass}}" ng-class="{active: ($uiRoute)}" dropdown="item.menuItemType === 'dropdown'">
					<a ng-switch-when="dropdown" class="dropdown-toggle">
						<span translate="{{item.title}}"></span>
						<b class="caret"></b>
					</a>
					<ul ng-switch-when="dropdown" class="dropdown-menu">
						<li data-ng-repeat="subitem in item.items | orderBy: 'position'" data-ng-if="subitem.shouldRender(authentication.user);" ui-route="{{subitem.uiRoute}}" ng-class="{active: $uiRoute}">
							<a href="/#!/{{subitem.link}}" translate="{{subitem.title}}"></a>
						</li>
					</ul>
					<a ng-switch-default href="/#!/{{item.link}}" translate="{{item.title}}"></a>
				</li>
			</ul>
			<ul class="nav navbar-nav language-button">
				<div class="btn-group btn-toggle">
					<button ng-class="{false: 'btn btn-sm btn-default', true: 'btn btn-sm btn-primary active'}[isActive]"  ng-click="changeLanguage('en')" translate="en"></button>
					<button ng-class="{true: 'btn btn-sm btn-default', false: 'btn btn-sm btn-primary active'}[isActive]" ng-click="changeLanguage('hi')" translate="hi"></button>
				</div>
			</ul>
			<ul class="nav navbar-nav navbar-right" data-ng-hide="authentication.user">
				<li ui-route="/signup" ng-class="{active: $uiRoute}">
					<a href="/#!/signup" translate="header.sigu"></a>
				</li>
				<li class="divider-vertical"></li>
				<li ui-route="/signin" ng-class="{active: $uiRoute}">
					<a href="/#!/signin" translate="header.sigi"></a>
				</li>
			</ul>
			<ul class="nav navbar-nav navbar-right" data-ng-show="authentication.user">
				<li class="dropdown" style="margin-top: 5px">
					<h4 class="dropdown-toggle language-button glyphicon-circle-arrow-left form-group" data-toggle="dropdown">
						<div class="glyphicon glyphicon-bell" ng-style="{ color: bellNotifications.length === 0 ? '#265a88' : 'red' }">
							<p ng-if="bellNotifications.length" style="margin: -23px 0 10px;margin-left: 15px; margin-top: -30px">{{bellNotifications.length}}</p>
						</div>
					</h4>
					<div class="dropdown-menu row" href="/#!/settings/profile" style="min-width: 360px;">
						<div style="color: #888;  border-bottom: 2px solid #cccccc; text-align: center;">
							<div class="text-primary">Notifications</div>
						</div>
						<div ng-repeat="bellNotification in bellNotifications" class="panel panel-default row" style="margin-bottom :1px; margin-top :3px; margin-left: 0px;margin-right: 0px; border-color: rgb(76, 142, 244); border-top: 1px solid #efefef;">
							<div ng-click="Redirect(bellNotification._id, bellNotification.companyfeedId)">
								<img ng-hide="authentication.user.isImage" ng-src="../imgs/default-avatar.jpg"  height="20" width="30" class="img-thumbnail col-md-2 col-xs-2" style="margin-top: 5px; margin-bottom: 5px">
								<img ng-show="authentication.user.isImage" ng-src="{{'https://s3.amazonaws.com/sumacrm/avatars/'+bellNotification.userData}}" style="margin-top: 5px; margin-bottom: 5px" class="col-md-2 col-xs-2" height="30" width="40">
								<span class="col-md-10 col-xs-10" data-ng-bind="bellNotification.message" ></span>
							</div>
						</div>
					</div>
				</li>
				<li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <img ng-hide="authentication.user.isImage" ng-src="../imgs/default-avatar.jpg"  height="20" width="40" class="img-thumbnail">
					<img ng-show="authentication.user.isImage" ng-src="{{imgPath}}" height="20" width="40">
					<span style="color: #888;" data-ng-bind="authentication.user.displayName"></span> <b class="caret"></b>
				</a>

				<ul class="dropdown-menu">
					<li>
						<a href="/#!/settings/profile" translate="header.eprf"></a>
					</li>
					<li>
						<a href="/#!/settings/accounts" translate="header.msa"></a>
					</li>
					<li data-ng-show="authentication.user.provider === 'local'">
						<a href="/#!/settings/password" translate="header.cpw"></a>
					</li>
					<li class="divider"></li>
					<li>
						<a href="/auth/signout" translate="header.sigo"></a>
					</li>
				</ul>
			</li>
			</ul>
		</nav>
	</div>
</div>
